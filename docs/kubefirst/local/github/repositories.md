---
title: Repositories
---

# GitHub Repositories

The `kubefirst k3d create` command will create a `gitops` and `metaphor` repository in your personal github account as shown here.

<!-- TODO: 2.0 - new repo list - metaphor not metaphor-frontend-->
![GitHub repositories](../../../img/kubefirst/local/repos-list.png)

## Repository Summary

### gitops

The `gitops` repo houses all of our IAC and all our GitOps configurations. All of the infrastructure and application configutation that you receive with Kubefirst was produced by some combination of Terraform and Argo CD in the `gitops` repository. You will add to this repository as extend your infrastructure or new applications.

### metaphor

`metaphor` is an example application with source code, builds, and gitops delivery used to showcase various features and integrations of the Kubefirst platform. It's useful to keep on your new platform as a place to test CI changes or whatever you need to verify on the platform. The Metaphor app has CI/CD that delivers each app to a development, staging, and production namespace in your Kubernetes cluster. The metaphor service apps' secrets in vault are bound to the metaphor app through the use of the external-secrets operator, a handy Kubernetes utility to keep Kubernetes secrets in sync with the vault source of truth. It demonstrates how DNS entries are automatically created in Route 53 using external-dns and has auto-renewing, short-lived certificates generated by cert-manager and the Let's Encrypt cluster-issuer. `metaphor` is described in more details [here](../../../explore/metaphor.md).

## GitHub Repository Management

As you need additional GitHub repositories, just add a new section of Terraform code to `terraform/github/repos.tf` in your new gitops repository:

```terraform
module "your_repo_name" {
  source = "./modules/repository"
  visibility         = "private"
  repo_name          = "your-repo-name"
  archive_on_destroy = true
  auto_init          = false # set to false if importing an existing repository, set to true if brand new
}
```

GitHub's Terraform provider provides many more configuration options than just these settings. Check them out and add to your default settings once you're comfortable with the platform.

Take a look at the `Resources` section of the GitHub provider [documentation](https://registry.terraform.io/providers/integrations/github/latest/docs).

## Making Terraform Changes

To make infrastructure and configuration changes with Terraform, simply open a pull request in the `gitops` repository. Your pull request will automatically provide plans, state locks, and applies, and even comment in the pull request itself. You'll have a simple, peer reviewable, auditable changelog of all infrastructure and configuration changes.

![Atlantis Example on GitHub](../../../img/kubefirst/local/atlantis.png)
